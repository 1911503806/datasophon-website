<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="服务器要求" />
	<meta name="description" content="some description" />
	<!-- 网页标签标题 -->
	<title>建议配置</title>
	<link rel="shortcut icon" href="datasophon-website/img/docsite.ico"/>
	<link rel="stylesheet" href="datasophon-website/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="datasophon-website/zh-cn/index.html"><img class="logo" src="datasophon-website/img/dubbo_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">En</span><div class="header-menu"><img class="header-menu-toggle" src="datasophon-website/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="datasophon-website/zh-cn/index.html" target="_self">首页</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="datasophon-website/zh-cn/docs/demo1.html" target="_self">文档</a></li><li class="menu-item menu-item-normal"><a href="datasophon-website/zh-cn/blog/index.html" target="_self">博客</a></li><li class="menu-item menu-item-normal"><a href="datasophon-website/zh-cn/community/index.html" target="_self">社区</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="datasophon-website/img/system/docs.png" class="front-img"/><span>文档</span><img src="datasophon-website/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>关于DataSophon</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="datasophon-website/zh-cn/docs/demo1.html" target="_self">DataSophon简介</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="datasophon-website/zh-cn/docs/dir/advice-config.html" target="_self">建议配置</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="datasophon-website/zh-cn/docs/dir/explan.html" target="_self">名称解释</a></li></ul></li><li class="menu-item menu-item-level-1"><span>快速开始</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="datasophon-website/zh-cn/docs/dir/environment.html" target="_self">环境配置</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="datasophon-website/zh-cn/docs/dir/quick-start.html" target="_self">快速部署</a></li></ul></li><li class="menu-item menu-item-level-1"><span>使用手册</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="datasophon-website/zh-cn/docs/dir/create-cluster.html" target="_self">创建集群</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="datasophon-website/zh-cn/docs/dir/add-service.html" target="_self">添加服务</a></li></ul></li><li class="menu-item menu-item-level-1"><span>架构设计</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="datasophon-website/zh-cn/docs/dir/environment.html" target="_self">环境配置</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="datasophon-website/zh-cn/docs/dir/deploy.html" target="_self">快速部署</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h2 id="1.2-%E6%B7%BB%E5%8A%A0zookeeper">1.2 添加ZooKeeper <a class="header-anchor" href="#1.2-%E6%B7%BB%E5%8A%A0zookeeper">#</a></h2>
<p>点击【添加服务】，选择ZooKeeper。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps21.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps22.jpg)</p>
<p>分配ZooKeeper master服务角色部署节点，zk需部署奇数台。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps23.jpg)</p>
<p>Zk没有worker与client服务角色，直接点击【下一步】跳过。</p>
<p>根据实际情况修改Zk服务配置。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps24.jpg)</p>
<p>点击【下一步】，进行zk服务安装。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps25.jpg)</p>
<h2 id="1.3-%E6%B7%BB%E5%8A%A0hdfs">1.3 添加HDFS <a class="header-anchor" href="#1.3-%E6%B7%BB%E5%8A%A0hdfs">#</a></h2>
<p>部署HDFS，其中JournalNode需部署三台，NameNode部署两台，ZKFC和NameNode部署在相同机器上。如下图：</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps26.jpg)</p>
<p>选择DataNode部署节点。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps27.jpg)</p>
<p>根据实际情况修改配置，例如修改DataNode数据存储目录：</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps28.jpg)</p>
<p>点击【下一步】安装HDFS。</p>
<h2 id="1.4-%E6%B7%BB%E5%8A%A0yarn">1.4 添加YARN <a class="header-anchor" href="#1.4-%E6%B7%BB%E5%8A%A0yarn">#</a></h2>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps29.jpg)</p>
<p>选择两台机器部署ResourceManager。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps30.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps31.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps32.jpg)</p>
<p>默认值如下：</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps33.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps34.jpg)</p>
<h2 id="1.5-%E6%B7%BB%E5%8A%A0hive">1.5 添加Hive <a class="header-anchor" href="#1.5-%E6%B7%BB%E5%8A%A0hive">#</a></h2>
<p>在数据库中创建Hive数据库。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps35.png)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps36.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps37.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps38.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps39.jpg)</p>
<p>安装HiveServer2时会执行sql创建Hive的表，在个别情况下会因mysql配置导致sql执行失败，可根据实际失败原因修改mysql配置。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps40.jpg)</p>
<h2 id="1.6-%E6%B7%BB%E5%8A%A0hbase">1.6 添加Hbase <a class="header-anchor" href="#1.6-%E6%B7%BB%E5%8A%A0hbase">#</a></h2>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps41.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps42.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps43.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps44.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps45.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps46.jpg)</p>
<h2 id="1.7-%E6%B7%BB%E5%8A%A0spark3">1.7 添加Spark3 <a class="header-anchor" href="#1.7-%E6%B7%BB%E5%8A%A0spark3">#</a></h2>
<p>与上述服务安装类似，详细过程略。</p>
<h2 id="1.8-%E6%B7%BB%E5%8A%A0flink">1.8 添加Flink <a class="header-anchor" href="#1.8-%E6%B7%BB%E5%8A%A0flink">#</a></h2>
<p>与上述服务安装类似，详细过程略。</p>
<h2 id="1.9-%E6%B7%BB%E5%8A%A0kafka">1.9 添加Kafka <a class="header-anchor" href="#1.9-%E6%B7%BB%E5%8A%A0kafka">#</a></h2>
<p>与上述服务安装类似，详细过程略。</p>
<h2 id="1.10-%E6%B7%BB%E5%8A%A0trino">1.10 添加Trino <a class="header-anchor" href="#1.10-%E6%B7%BB%E5%8A%A0trino">#</a></h2>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps47.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps48.jpg)</p>
<p>Trino的worker节点不可与coordinator节点在同一台机器上。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps49.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps50.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps51.jpg)</p>
<h2 id="1.11-%E6%B7%BB%E5%8A%A0ranger">1.11 添加Ranger <a class="header-anchor" href="#1.11-%E6%B7%BB%E5%8A%A0ranger">#</a></h2>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps52.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps53.jpg)</p>
<p>Ranger没有worker与client角色，可直接跳过。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps54.jpg)</p>
<p>配置Ranger的数据库连接信息。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps55.jpg)</p>
<p>安装成功后，点击服务配置，开启HDFS和Hive Ranger插件。开启后，点击保存。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps56.jpg)</p>
<p>点击HDFS，打开配置，配置Ranger访问地址即Ranger实例的地址，端口默认为6080，</p>
<p>保存配置后，重启NameNode。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps57.jpg)</p>
<p>点击Hive，打开配置，配置Ranger访问地址即Ranger实例的地址，端口默认为6080，</p>
<p>保存配置后重启HiveServer2。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps58.jpg)</p>
<p>通过平台访问Ranger Web Ui添加hivedev</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps59.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps60.jpg) 测试连接hiveserver2</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps61.jpg)</p>
<p>出现以下提示说明连接成功！</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps62.jpg)</p>
<p>同理，添加hadoopdev，用于HDFS授权。</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps63.jpg)</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps64.jpg)</p>
<p>注意：Service Name配置固定为hadoopdev，NameNode高可用配置根据提示配置</p>
<p>![img](file:///C:\Users\诸葛余\AppData\Local\Temp\ksohtml19564\wps65.jpg)</p>
<p>点击Add添加。</p>
</div></section><footer class="footer-container"><div class="footer-body"><img src="datasophon-website/img/dubbo_gray.png"/><div class="cols-container"><div class="col col-12"><h3>免责声明</h3><p>免责声明的具体内容</p></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="datasophon-website/zh-cn/docs/demo1.html" target="_self">概览</a></dd><dd><a href="datasophon-website/zh-cn/docs/demo2.html" target="_self">快速开始</a></dd><dd><a href="datasophon-website/zh-cn/docs/dir/demo3.html" target="_self">开发者指南</a></dd></dl></div><div class="col col-6"><dl><dt>资源</dt><dd><a href="datasophon-website/zh-cn/blog/index.html" target="_self">博客</a></dd><dd><a href="datasophon-website/zh-cn/community/index.html" target="_self">社区</a></dd></dl></div></div><div class="copyright"><span>Copyright © 2022 DataSophon</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = 'datasophon-website';
  </script>
	<script src="datasophon-website/build/documentation.js"></script>
</body>
</html>